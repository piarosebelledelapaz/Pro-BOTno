# ğŸ“Š Visual Guide - UNHCR Refugee Portal

## ğŸ¯ System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    UNHCR REFUGEE PORTAL                         â”‚
â”‚                  Web Interface (Streamlit)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  CASE INTAKE   â”‚             â”‚  CASE REPORTS  â”‚
    â”‚  Upload Files  â”‚             â”‚  View & Manage â”‚
    â”‚  Interactive   â”‚             â”‚  Download PDFs â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ AUDIO PROCESSINGâ”‚
    â”‚  Whisper API    â”‚
    â”‚  Transcribe     â”‚
    â”‚  Translate      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  BACKEND        â”‚
    â”‚  case_processor â”‚
    â”‚  Legal Analysis â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  PDF REPORT     â”‚
    â”‚  pdf_generator  â”‚
    â”‚  With Appendicesâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ File Structure Map

```
Pro-BOTno/
â”‚
â”œâ”€â”€ ğŸ“„ START_HERE.md           â­ READ THIS FIRST
â”œâ”€â”€ ğŸ“„ PROJECT_COMPLETE.md     â­ Project summary
â”œâ”€â”€ ğŸ“„ PORTAL_README.md         ğŸ“š Full documentation
â”œâ”€â”€ ğŸ“„ IMPLEMENTATION_SUMMARY.md ğŸ”§ Technical details
â”‚
â”œâ”€â”€ ğŸ”§ run_portal.sh           ğŸš€ Start the portal
â”œâ”€â”€ ğŸ” check_setup.py          âœ… Verify installation
â”‚
â””â”€â”€ src/
    â”‚
    â”œâ”€â”€ ğŸ  portal.py            ğŸŒŸ MAIN ENTRY POINT
    â”‚
    â”œâ”€â”€ pages/
    â”‚   â”œâ”€â”€ 1_ğŸ“_New_Case_Intake.py   â¬†ï¸ Upload & process
    â”‚   â””â”€â”€ 2_ğŸ“Š_Case_Reports.py      ğŸ“‹ View cases
    â”‚
    â”œâ”€â”€ backend/                ğŸ”’ NEW BACKEND
    â”‚   â”œâ”€â”€ case_processor.py   âš–ï¸ Legal analysis engine
    â”‚   â””â”€â”€ pdf_generator.py    ğŸ“„ PDF generation
    â”‚
    â”œâ”€â”€ modules/                ğŸ”Œ EXISTING (integrated)
    â”‚   â”œâ”€â”€ enhanced_rag.py     ğŸ” RAG + Fedlex
    â”‚   â””â”€â”€ fedlex_client.py    ğŸ‡¨ğŸ‡­ Swiss legislation
    â”‚
    â”œâ”€â”€ prompts/                ğŸ’¬ EXISTING (reused)
    â”‚   â””â”€â”€ fedlex_prompts.py   ğŸ“ Legal prompts
    â”‚
    â”œâ”€â”€ vector_db_data/         ğŸ“š EXISTING (reused)
    â”‚   â””â”€â”€ chroma.sqlite3      ğŸ’¾ Legal documents DB
    â”‚
    â””â”€â”€ cases/                  ğŸ“ GENERATED (at runtime)
        â””â”€â”€ {UNHCR_NUMBER}/
            â”œâ”€â”€ audio/
            â”œâ”€â”€ transcripts/
            â”œâ”€â”€ forms/
            â””â”€â”€ reports/
```

---

## ğŸ”„ User Workflow

```
START
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. OPEN PORTAL      â”‚
â”‚  ./run_portal.sh     â”‚
â”‚  http://localhost... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. UPLOAD FILES     â”‚
â”‚  â€¢ Audio (any lang)  â”‚
â”‚  â€¢ PDF forms         â”‚
â”‚  â€¢ UNHCR number      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. AUTO PROCESS     â”‚
â”‚  â±ï¸ 1-2 min          â”‚
â”‚  âœ“ Transcribe        â”‚
â”‚  âœ“ Translate         â”‚
â”‚  âœ“ Extract PDFs      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. REVIEW RESULTS   â”‚
â”‚  ğŸ“ Original text    â”‚
â”‚  ğŸŒ English trans    â”‚
â”‚  ğŸ“‹ Form data        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. AI QUESTIONS     â”‚
â”‚  ğŸ¤– Auto-generated   â”‚
â”‚  ğŸ’¬ Chat interface   â”‚
â”‚  ğŸ“ Gather info      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. LEGAL ANALYSIS   â”‚
â”‚  â±ï¸ 2-5 min          â”‚
â”‚  ğŸ” RAG search       â”‚
â”‚  ğŸ‡¨ğŸ‡­ Fedlex query    â”‚
â”‚  ğŸ“š Bibliography     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. PDF GENERATED    â”‚
â”‚  ğŸ“¥ Download         â”‚
â”‚  âœ“ Full report       â”‚
â”‚  âœ“ Appendices        â”‚
â”‚  âœ“ Bibliography      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
          END
```

---

## ğŸ¨ Portal Pages

### Page 1: Landing Page (`portal.py`)
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     ğŸ›¡ï¸ UNHCR REFUGEE ASSISTANCE PORTAL         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Features                                      â”‚
â”‚  â€¢ ğŸ¤ Audio processing                         â”‚
â”‚  â€¢ ğŸ’¬ AI assessment                            â”‚
â”‚  â€¢ âš–ï¸ Legal analysis                           â”‚
â”‚  â€¢ ğŸ“„ PDF reports                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  System Status                                 â”‚
â”‚  âœ… OpenAI API    âœ… Database    ğŸ“ Cases      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Page 2: Case Intake (`pages/1_ğŸ“_New_Case_Intake.py`)
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘            ğŸ“ NEW CASE INTAKE                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Progress: 1ï¸âƒ£ Upload  â†’  2ï¸âƒ£ Transcribe  â†’  3ï¸âƒ£ Assess  â†’  4ï¸âƒ£ Complete

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Basic Information                             â”‚
â”‚  Name: ___________________________________     â”‚
â”‚  UNHCR Number: ___________________________     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Interview Audio                               â”‚
â”‚  [ğŸ“ Upload Audio File]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Supporting Documents                          â”‚
â”‚  [ğŸ“ Upload PDF Forms (multiple)]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                [Process Files â†’]
```

### Page 3: Case Reports (`pages/2_ğŸ“Š_Case_Reports.py`)
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘            ğŸ“Š CASE REPORTS                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” Search: _______________  Sort: [Newest First â–¼]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ahmad Al-Rashid          UNHCR-2024-001       â”‚
â”‚  Created: Oct 31, 2025                         â”‚
â”‚                           [ğŸ“¥ Download PDF]    â”‚
â”‚                                                â”‚
â”‚  ğŸ“‹ View Details                               â”‚
â”‚    âœ“ Audio  âœ“ Transcript  âœ“ Forms  âœ“ Report  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Maria Santos            UNHCR-2024-002        â”‚
â”‚  Created: Oct 30, 2025                         â”‚
â”‚                           [ğŸ“¥ Download PDF]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“„ PDF Report Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REFUGEE CASE LEGAL ANALYSIS            â”‚
â”‚                                         â”‚
â”‚  Asylum Seeker: Ahmad Al-Rashid         â”‚
â”‚  UNHCR Number: UNHCR-2024-001           â”‚
â”‚  Date: October 31, 2025                 â”‚
â”‚                                         â”‚
â”‚  CONFIDENTIAL LEGAL DOCUMENT            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EXECUTIVE SUMMARY                      â”‚
â”‚  â€¢ Personal Data                        â”‚
â”‚  â€¢ Overview of Situation                â”‚
â”‚  â€¢ Family Composition                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LEGAL ANALYSIS                         â”‚
â”‚  â€¢ Legally Relevant Facts               â”‚
â”‚    (see Appendix I, Appendix II)        â”‚
â”‚  â€¢ Applicable Law                       â”‚
â”‚  â€¢ Legal Assessment                     â”‚
â”‚  â€¢ Recommendations                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BIBLIOGRAPHY                           â”‚
â”‚  General Legal Documents                â”‚
â”‚  [1] European Convention...             â”‚
â”‚  [2] Geneva Convention...               â”‚
â”‚                                         â”‚
â”‚  Swiss Federal Legislation              â”‚
â”‚  [L1] Asylgesetz (SR 142.31)           â”‚
â”‚  [L2] AuslÃ¤nder (SR 142.20)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APPENDIX I: ASYLUM SEEKER FORMS        â”‚
â”‚  â€¢ Original Files (2 documents)         â”‚
â”‚  â€¢ Extracted Content                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APPENDIX II: INTERVIEW TRANSCRIPT      â”‚
â”‚  â€¢ Original Language                    â”‚
â”‚  â€¢ English Translation                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APPENDIX III: RELEVANT CASE LAW        â”‚
â”‚  â€¢ Case Law Summary                     â”‚
â”‚  â€¢ Referenced Documents                 â”‚
â”‚  â€¢ Legal Sources                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ Backend Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CaseProcessor                      â”‚
â”‚       (backend/case_processor.py)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  Main Methods:                                  â”‚
â”‚  â€¢ process_case()                               â”‚
â”‚    â””â”€ Comprehensive legal analysis              â”‚
â”‚                                                 â”‚
â”‚  â€¢ ask_follow_up_questions()                    â”‚
â”‚    â””â”€ Generate AI questions                     â”‚
â”‚                                                 â”‚
â”‚  â€¢ _extract_bibliography()                      â”‚
â”‚    â””â”€ Parse sources & legislation               â”‚
â”‚                                                 â”‚
â”‚  â€¢ _generate_legal_summary()                    â”‚
â”‚    â””â”€ Structure with appendix refs              â”‚
â”‚                                                 â”‚
â”‚  â€¢ _extract_case_law_summary()                  â”‚
â”‚    â””â”€ Extract relevant precedents               â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Uses:                                          â”‚
â”‚  â€¢ ChromaDB (existing)                          â”‚
â”‚  â€¢ Fedlex Client (existing)                     â”‚
â”‚  â€¢ Enhanced RAG (existing)                      â”‚
â”‚  â€¢ GPT-4 (for analysis)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           PDFReportGenerator                    â”‚
â”‚        (backend/pdf_generator.py)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  Main Methods:                                  â”‚
â”‚  â€¢ generate_report()                            â”‚
â”‚    â””â”€ Create complete PDF                       â”‚
â”‚                                                 â”‚
â”‚  â€¢ _build_title_page()                          â”‚
â”‚  â€¢ _build_executive_summary()                   â”‚
â”‚  â€¢ _build_legal_analysis()                      â”‚
â”‚  â€¢ _build_bibliography()                        â”‚
â”‚  â€¢ _build_appendix_forms()                      â”‚
â”‚  â€¢ _build_appendix_transcript()                 â”‚
â”‚  â€¢ _build_appendix_case_law()                   â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Uses:                                          â”‚
â”‚  â€¢ ReportLab (PDF generation)                   â”‚
â”‚  â€¢ Professional styling                         â”‚
â”‚  â€¢ Structured sections                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Integration Points

```
NEW CODE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Streamlit Portal (NEW)                    â”‚
â”‚  â€¢ portal.py                               â”‚
â”‚  â€¢ pages/1_ğŸ“_New_Case_Intake.py           â”‚
â”‚  â€¢ pages/2_ğŸ“Š_Case_Reports.py              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ Uses
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend Services (NEW)                    â”‚
â”‚  â€¢ case_processor.py                       â”‚
â”‚  â€¢ pdf_generator.py                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ Calls
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Existing Modules (REUSED)                 â”‚
â”‚  â€¢ enhanced_rag.py                         â”‚
â”‚  â€¢ fedlex_client.py                        â”‚
â”‚  â€¢ fedlex_prompts.py                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ Queries
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Sources (EXISTING)                   â”‚
â”‚  â€¢ ChromaDB (vector_db_data/)              â”‚
â”‚  â€¢ Fedlex SPARQL (API)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–²
                      â”‚
EXISTING CODE â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Quick Start Commands

```bash
# 1. Check if everything is ready
python3 check_setup.py

# Expected output:
# âœ“ Python version OK
# âœ“ All dependencies installed
# âœ“ API key set
# âœ“ Database found
# âœ“ All files present

# 2. Start the portal
./run_portal.sh

# Or manually:
cd src && streamlit run portal.py

# 3. Open browser
# http://localhost:8501
```

---

## ğŸ’¡ Key Concepts

### Audio Processing
```
Audio File (any language)
    â”‚
    â–¼
[Whisper API]
    â”‚
    â”œâ”€â”€â–¶ Transcription (original language)
    â”‚
    â””â”€â”€â–¶ Translation (English)
    
Both saved for reference
```

### Legal Analysis
```
Case Description
    â”‚
    â–¼
[Case Processor]
    â”‚
    â”œâ”€â”€â–¶ ChromaDB Query (international law)
    â”‚
    â”œâ”€â”€â–¶ Fedlex Query (Swiss law)
    â”‚
    â”œâ”€â”€â–¶ GPT-4 Analysis
    â”‚
    â””â”€â”€â–¶ Bibliography Generation
    
Structured output with references
```

### PDF Generation
```
Analysis Results
    â”‚
    â–¼
[PDF Generator]
    â”‚
    â”œâ”€â”€â–¶ Title Page
    â”œâ”€â”€â–¶ Executive Summary
    â”œâ”€â”€â–¶ Legal Analysis (with refs)
    â”œâ”€â”€â–¶ Bibliography
    â”œâ”€â”€â–¶ Appendix I (Forms)
    â”œâ”€â”€â–¶ Appendix II (Transcript)
    â””â”€â”€â–¶ Appendix III (Case Law)
    
Professional PDF with all sections
```

---

## ğŸ“Š Comparison Chart

| Aspect | Before | After |
|--------|--------|-------|
| **Interface** | Terminal | Web Portal |
| **Input** | Text only | Audio + PDFs |
| **Audio** | Manual transcription | Automatic (Whisper) |
| **Translation** | Manual | Automatic |
| **Assessment** | None | AI questions + chat |
| **Output** | Text file | Professional PDF |
| **Bibliography** | No | Yes, with citations |
| **Appendices** | No | Yes, 3 appendices |
| **Storage** | No | Organized file system |
| **Management** | No | Search, view, download |

---

## ğŸ¯ What Each File Does

```
portal.py
â””â”€â–¶ Landing page, system overview, navigation

pages/1_ğŸ“_New_Case_Intake.py
â””â”€â–¶ 4-step workflow: Upload â†’ Transcribe â†’ Assess â†’ Complete

pages/2_ğŸ“Š_Case_Reports.py
â””â”€â–¶ View all cases, search, download reports

backend/case_processor.py
â””â”€â–¶ Legal analysis, bibliography, questions, summaries

backend/pdf_generator.py
â””â”€â–¶ Create professional PDFs with all sections

run_portal.sh
â””â”€â–¶ Start the portal (checks API key, runs Streamlit)

check_setup.py
â””â”€â–¶ Verify installation (Python, deps, API key, DB)
```

---

## ğŸ“ Learning Path

```
1. Start Here
   â””â”€â–¶ READ: START_HERE.md
   
2. Run It
   â””â”€â–¶ RUN: ./run_portal.sh
   
3. Test It
   â””â”€â–¶ CREATE: A test case
   
4. Understand It
   â””â”€â–¶ READ: portal.py
   â””â”€â–¶ READ: pages/1_ğŸ“_New_Case_Intake.py
   â””â”€â–¶ READ: backend/case_processor.py
   
5. Customize It
   â””â”€â–¶ MODIFY: Prompts, styling, settings
   
6. Deploy It
   â””â”€â–¶ READ: PORTAL_README.md (deployment section)
```

---

## âœ¨ Summary

This visual guide shows:
- ğŸ—ï¸ System architecture
- ğŸ“ File organization
- ğŸ”„ User workflows
- ğŸ¨ Page layouts
- ğŸ“„ PDF structure
- ğŸ”§ Backend design
- ğŸ”Œ Integration points
- ğŸš€ Quick commands

**Everything connected and working together!**

---

**Ready to use? Run:** `./run_portal.sh` ğŸš€

